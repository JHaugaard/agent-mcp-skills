# Secret protection hooks - run `pre-commit install` after cloning
repos:
  # Block .env files from being committed (except .env.example)
  - repo: local
    hooks:
      - id: block-env-files
        name: Block .env files
        entry: bash -c 'echo "Blocked: $1 - use .env.example for templates" && exit 1' --
        language: system
        files: '^\.env(?!\.example$)'
        stages: [pre-commit]

  # Scan for leaked secrets using gitleaks
  - repo: https://github.com/gitleaks/gitleaks
    rev: v8.18.4
    hooks:
      - id: gitleaks
